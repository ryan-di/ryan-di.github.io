(this["webpackJsonpgame-of-life-functional"]=this["webpackJsonpgame-of-life-functional"]||[]).push([[0],[,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),s=n(5),r=n.n(s),o=n(2),a=(n(11),n(12),n(6)),l=n(4),u=function t(e){Object(l.a)(this,t),this.value=e,this.prev=null,this.next=null},h=function(){function t(e){Object(l.a)(this,t),this.capacity=e,this.size=0,this.head=new u(null),this.tail=new u(null),this.head.next=this.tail,this.tail.prev=this.head}return Object(a.a)(t,[{key:"push",value:function(t){this.size===this.capacity&&this._removeFirst();var e=new u(t),n=this.tail.prev;n.next=e,e.prev=n,e.next=this.tail,this.tail.prev=e,this.size+=1}},{key:"_removeFirst",value:function(){var t=this.head.next;this.head.next=t.next,t.next.prev=this.head,t=null,this.size-=1}},{key:"pop",value:function(){if(this.size>0){var t=this.tail.prev;return this.tail.prev=t.prev,t.prev.next=this.tail,this.size-=1,t.value}return null}},{key:"clear",value:function(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0}}]),t}(),f=(n(13),n(0));function b(t){return Object(f.jsx)("div",{className:"tip-container",style:{width:t.width?t.width:"100%",textAlign:t.textAlign?t.textAlign:"left",margin:t.margin?t.margin:"20px auto"},children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"btn-container",children:Object(f.jsx)("button",{className:"btn-close",onClick:function(){document.querySelector(".tip-container").remove()},children:"X"})}),Object(f.jsxs)("p",{className:"tip-content",children:["Click on the board to add or remove a cell. Click"," ",Object(f.jsx)("strong",{children:'"Next"'})," to get the next iteration and click"," ",Object(f.jsx)("strong",{children:'"Prev"'})," to go back. You can go back up to"," ",t.steps," steps. You can also simply click ",Object(f.jsx)("strong",{children:'"Run"'})," ","to watch it unflod automatically. Finally, click"," ",Object(f.jsx)("strong",{children:'"Reset"'})," to simply clear the board and start over.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"You can find out more about Conway's Game of Life"," ",Object(f.jsx)("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",children:"here"}),"."]})]})})}n(15);function j(t){var e=t.size*t.x+1,n=t.size*t.y+1,i=t.size-1,s=Object(c.useState)(t.color),r=Object(o.a)(s,1)[0];return Object(f.jsx)("div",{className:"Cell",style:{left:e,top:n,width:i,height:i,backgroundColor:"rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")")}})}function d(t){var e=i.a.createRef();return Object(f.jsx)("div",{className:"Board",style:{width:t.size*t.cols,height:t.size*t.rows,backgroundSize:"".concat(t.size,"px ").concat(t.size,"px")},ref:e,onClick:function(n){var c=function(n){var c=e.current.getBoundingClientRect(),i=n.clientX-c.left,s=n.clientY-c.top,r=Math.floor(i/t.size),o=Math.floor(s/t.size);return{x:r,y:o}}(n);t.onClick(c.x,c.y)},children:t.cells.map((function(e){return Object(f.jsx)(j,{x:e.x,y:e.y,color:e.color,size:t.size},"".concat(e.y,", ").concat(e.x))}))})}function v(t){var e=i.a.createRef(),n=Object(c.useState)(p(t.rows,t.cols)),s=Object(o.a)(n,2),r=s[0],a=s[1],l=Object(c.useState)([]),u=Object(o.a)(l,2),j=u[0],v=u[1],O=Object(c.useState)(!1),m=Object(o.a)(O,2),g=m[0],w=m[1],z=Object(c.useState)(new h(t.steps)),k=Object(o.a)(z,1)[0],y=Object(c.useState)(!1),C=Object(o.a)(y,2),N=C[0],S=C[1];return Object(c.useEffect)((function(){g||v(R()),w(!1)}),[r]),Object(c.useEffect)((function(){0===k.size?e.current.disabled=!0:e.current.disabled=!1}),[j]),function(t,e){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=t}),[t]),Object(c.useEffect)((function(){function t(){n.current()}if(null!==e){var c=setInterval(t,e);return function(){return clearInterval(c)}}}),[e])}((function(){M()}),N?500:null),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b,{width:t.size*t.cols,steps:t.steps}),Object(f.jsx)(d,{cells:j,size:t.size,rows:t.rows,cols:t.cols,onClick:function(e,n){return function(e,n){e>=0&&e<t.cols&&n>=0&&n<=t.rows&&(r[n][e]=!r[n][e]);v(R())}(e,n)}}),Object(f.jsxs)("div",{className:"controls",style:{width:t.size*t.cols},children:[Object(f.jsx)("button",{className:"btn",ref:e,onClick:function(){if(k.size>0){var t=k.pop(),e=t.cells,n=t.board;w(!0),a(n),v(e)}},children:"Prev"}),Object(f.jsx)("button",{className:"btn",onClick:M,children:"Next"}),Object(f.jsx)("button",{className:"btn",onClick:function(){S((function(t){return!t}))},children:N?"Pause":"Run"}),Object(f.jsx)("button",{className:"btn",onClick:function(){S(!1),a(p(t.rows,t.cols)),v([]),k.clear()},children:"Reset"})]})]});function R(){for(var e=[],n=0;n<t.rows;n++)for(var c=0;c<t.cols;c++)r[n][c]&&e.push({x:c,y:n,color:x()});return e}function M(){k.push({cells:j.slice(),board:r.map((function(t){return t.slice()}))});for(var e=r.map((function(t){return t.slice()})),n=0;n<t.rows;n++)for(var c=0;c<t.cols;c++){var i=_(r,c,n);e[n][c]?e[n][c]=2===i||3===i:r[n][c]||3!==i||(e[n][c]=!0)}a(e)}function _(e,n,c){for(var i=0,s=0,r=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];s<r.length;s++){var a=Object(o.a)(r[s],2),l=c+a[0],u=n+a[1];u>=0&&u<t.cols&&l>=0&&l<t.rows&&e[l][u]&&i++}return i}}function x(){var t=function(){return 30+Math.floor(200*Math.random())};return{r:t(),g:t(),b:t()}}function p(t,e){for(var n=[],c=0;c<t;c++){n.push([]);for(var i=0;i<e;i++)n[c].push(!1)}return n}var O=function(){var t=Object(c.useState)(Math.floor((window.innerHeight-180)/30)),e=Object(o.a)(t,1)[0],n=Object(c.useState)(Math.floor((window.innerWidth-40)/30)),i=Object(o.a)(n,1)[0];return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{style:{marginTop:"10px",fontSize:80,fontWeight:800},children:"Game Of Life"}),Object(f.jsx)(v,{size:30,rows:e,cols:i,steps:15})]})};r.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(O,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.673fe4c2.chunk.js.map